@{
    ViewBag.Title = "Index";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
<h2>Lista Actual</h2>
<!-- ko with: lista-->


<label data-bind="date: fecha"></label>
<table id="list" class="table table-bordered table-striped table-hover">
    <thead>
        <tr>
            <td>Cancion</td>
            <td>Tipo</td>
            <td>Ultima Vez</td>
        </tr>
    </thead>
    <tbody>
        <!-- ko foreach: canciones -->
        <tr>
            <td><span data-bind="text: nombre"></span></td>
            <td><span data-bind="text: tipo"></span></td>
            <td><span data-bind="date: ultimaVez"></span></td>
        </tr>
        <!-- /ko-->
    </tbody>
</table>

<table id="list" class="table table-bordered table-striped table-hover">
    <thead>
        <tr>
            <td>Cancion</td>
            <td>Tipo</td>
            <td>Ultima Vez</td>
        </tr>
    </thead>
    <tbody>
        <!-- ko foreach: sugerencias -->
        <tr>
            <td><span data-bind="text: nombre"></span></td>
            <td><span data-bind="text: tipo"></span></td>
            <td><span data-bind="date: ultimaVez"></span></td>
        </tr>
        <!-- /ko-->
    </tbody>
</table>

<!-- /ko -->
<div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                <h4 class="modal-title">Listado Canciones</h4>
            </div>
            <div class="modal-body">
                <!--div id="listadoCanciones" style="display:none"-->
                <div id="listadoCanciones">
                    <table class="table table-bordered table-striped table-hover">
                        <thead>
                            <tr><td>Nombre</td><td>Tipo</td><td>Ultima Vez</td></tr>
                        </thead>
                        <tbody>
                            <!-- ko foreach: listado-->
                            <tr data-bind="click: $root.selectSuggest,css: {success: selected}">
                                <td><span data-bind="text: nombre"></span></td>
                                <td><span data-bind="text: tipo"></span></td>
                                <td><span data-bind="date: ultimaVez"></span></td>
                            </tr>
                            <!-- /ko-->
                        </tbody>
                    </table>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
            </div>
        </div><!-- /.modal-content -->
    </div><!-- /.modal-dialog -->
</div><!-- /.modal -->
<button class="btn btn-primary btn-xs" data-toggle="modal" data-target="#myModal">
    Ver Listado Canciones
</button>
            <script>
                $(document).ready(function () {
                    var model = new zg.listaVM();
                    model.loadLista();
                    ko.applyBindings(model);
                    model.loadCanciones();                    
                });
            </script>

            <script src="~/Scripts/KnockoutModel/lista_model.js"></script>
            <script src="~/Scripts/knockoutViewModel/lista_viewmodel.js"></script>
            <script src="~/Scripts/knockoutViewModel/cancion_viewmodel.js"></script>
            <script src="~/Scripts/KnockoutModel/cancion_model.js"></script>

